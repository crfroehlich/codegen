//------------------------------------------------------------------------------
// <auto-generated>
//    This code is auto-generated by a T4 template. This class can be only customized modifying the corresponding partial class.
//    All other changes to this file will cause incorrect behavior and will be lost when the code is regenerated.
// </auto-generated>
//------------------------------------------------------------------------------
using System;
using System.CodeDom.Compiler;
using System.Collections.Generic;
using System.Linq;
using System.Linq.Dynamic;

using Services.Core;
using Services.Dto.internals;
using Services.Enums;

using ServiceStack;
using ServiceStack.Text;

using Typed;
using Typed.Notifications;
using Typed.Bindings;

using Xtensive.Orm;

using Attribute = Services.Dto.Attribute;


namespace Services.Dto
{
    public abstract partial class AttributeBase : Dto<Attribute>
    {
        [GeneratedCodeAttribute("T4", "1.0.0.0")]
        public AttributeBase() {}

        [GeneratedCodeAttribute("T4", "1.0.0.0")]
        public AttributeBase(int id) : this()
        {
            if(id > 0) Id = id;
        }

        [GeneratedCodeAttribute("T4", "1.0.0.0")]
        public AttributeBase(int? id) : this(DocConvert.ToInt(id)) {}

        [GeneratedCodeAttribute("T4", "1.0.0.0")]
        public AttributeBase(int? pId, Reference pAttributeName, int? pAttributeNameId, Reference pAttributeType, int? pAttributeTypeId, AttributeInterval pInterval, int? pIntervalId, bool pIsCharacteristic, bool pIsOutcome, bool? pIsPositive, string pUniqueKey) : this(DocConvert.ToInt(pId)) 
        {
            AttributeName = pAttributeName;
            AttributeNameId = pAttributeNameId;
            AttributeType = pAttributeType;
            AttributeTypeId = pAttributeTypeId;
            Interval = pInterval;
            IntervalId = pIntervalId;
            IsCharacteristic = pIsCharacteristic;
            IsOutcome = pIsOutcome;
            IsPositive = pIsPositive;
            UniqueKey = pUniqueKey;
        }

        [ApiMember(Name = nameof(AttributeName), Description = "LookupTable", IsRequired = true)]
[GeneratedCodeAttribute("T4", "1.0.0.0")]
        public Reference AttributeName { get; set; }
        [ApiMember(Name = nameof(AttributeNameId), Description = "Primary Key of LookupTable", IsRequired = false)]
        [GeneratedCodeAttribute("T4", "1.0.0.0")]
        public int? AttributeNameId { get; set; }

        [ApiAllowableValues("Includes", Values = new string[] {@"Change",@"Duration",@"Not In Study",@"% Change",@"Standard",@"Time Since",@"Time To"})]
        [ApiMember(Name = nameof(AttributeType), Description = "LookupTable", IsRequired = false)]
[GeneratedCodeAttribute("T4", "1.0.0.0")]
        public Reference AttributeType { get; set; }
        [ApiMember(Name = nameof(AttributeTypeId), Description = "Primary Key of LookupTable", IsRequired = false)]
        [GeneratedCodeAttribute("T4", "1.0.0.0")]
        public int? AttributeTypeId { get; set; }

        [ApiMember(Name = nameof(Interval), Description = "AttributeInterval", IsRequired = true)]
[GeneratedCodeAttribute("T4", "1.0.0.0")]
        public AttributeInterval Interval { get; set; }
        [ApiMember(Name = nameof(IntervalId), Description = "Primary Key of AttributeInterval", IsRequired = false)]
        [GeneratedCodeAttribute("T4", "1.0.0.0")]
        public int? IntervalId { get; set; }

        [ApiMember(Name = nameof(IsCharacteristic), Description = "bool", IsRequired = false)]
        [GeneratedCodeAttribute("T4", "1.0.0.0")]
        public bool IsCharacteristic { get; set; }
        [ApiMember(Name = nameof(IsCharacteristicIds), Description = "IsCharacteristic Ids", IsRequired = false)]
        [GeneratedCodeAttribute("T4", "1.0.0.0")]
        public List<int> IsCharacteristicIds { get; set; }
        [ApiMember(Name = nameof(IsCharacteristicCount), Description = "IsCharacteristic Count", IsRequired = false)]
        [GeneratedCodeAttribute("T4", "1.0.0.0")]
        public int? IsCharacteristicCount { get; set; }

        [ApiMember(Name = nameof(IsOutcome), Description = "bool", IsRequired = false)]
        [GeneratedCodeAttribute("T4", "1.0.0.0")]
        public bool IsOutcome { get; set; }
        [ApiMember(Name = nameof(IsOutcomeIds), Description = "IsOutcome Ids", IsRequired = false)]
        [GeneratedCodeAttribute("T4", "1.0.0.0")]
        public List<int> IsOutcomeIds { get; set; }
        [ApiMember(Name = nameof(IsOutcomeCount), Description = "IsOutcome Count", IsRequired = false)]
        [GeneratedCodeAttribute("T4", "1.0.0.0")]
        public int? IsOutcomeCount { get; set; }

        [ApiMember(Name = nameof(IsPositive), Description = "bool?", IsRequired = false)]
        [GeneratedCodeAttribute("T4", "1.0.0.0")]
        public bool? IsPositive { get; set; }
        [ApiMember(Name = nameof(IsPositiveIds), Description = "IsPositive Ids", IsRequired = false)]
        [GeneratedCodeAttribute("T4", "1.0.0.0")]
        public List<int> IsPositiveIds { get; set; }
        [ApiMember(Name = nameof(IsPositiveCount), Description = "IsPositive Count", IsRequired = false)]
        [GeneratedCodeAttribute("T4", "1.0.0.0")]
        public int? IsPositiveCount { get; set; }

        [ApiMember(Name = nameof(UniqueKey), Description = "string", IsRequired = false)]
        [GeneratedCodeAttribute("T4", "1.0.0.0")]
        public string UniqueKey { get; set; }
        [ApiMember(Name = nameof(UniqueKeyIds), Description = "UniqueKey Ids", IsRequired = false)]
        [GeneratedCodeAttribute("T4", "1.0.0.0")]
        public List<int> UniqueKeyIds { get; set; }
        [ApiMember(Name = nameof(UniqueKeyCount), Description = "UniqueKey Count", IsRequired = false)]
        [GeneratedCodeAttribute("T4", "1.0.0.0")]
        public int? UniqueKeyCount { get; set; }



        [GeneratedCodeAttribute("T4", "1.0.0.0")]
        public void Deconstruct(out Reference pAttributeName, out int? pAttributeNameId, out Reference pAttributeType, out int? pAttributeTypeId, out AttributeInterval pInterval, out int? pIntervalId, out bool pIsCharacteristic, out bool pIsOutcome, out bool? pIsPositive, out string pUniqueKey)
        {
            pAttributeName = AttributeName;
            pAttributeNameId = AttributeNameId;
            pAttributeType = AttributeType;
            pAttributeTypeId = AttributeTypeId;
            pInterval = Interval;
            pIntervalId = IntervalId;
            pIsCharacteristic = IsCharacteristic;
            pIsOutcome = IsOutcome;
            pIsPositive = IsPositive;
            pUniqueKey = UniqueKey;
        }

        //Not ready until C# v8.?
        //[GeneratedCodeAttribute("T4", "1.0.0.0")]
        //public AttributeBase With(int? pId = Id, Reference pAttributeName = AttributeName, int? pAttributeNameId = AttributeNameId, Reference pAttributeType = AttributeType, int? pAttributeTypeId = AttributeTypeId, AttributeInterval pInterval = Interval, int? pIntervalId = IntervalId, bool pIsCharacteristic = IsCharacteristic, bool pIsOutcome = IsOutcome, bool? pIsPositive = IsPositive, string pUniqueKey = UniqueKey) => 
        //	new AttributeBase(pId, pAttributeName, pAttributeNameId, pAttributeType, pAttributeTypeId, pInterval, pIntervalId, pIsCharacteristic, pIsOutcome, pIsPositive, pUniqueKey);

    }


    [Route("/attribute", "POST")]
    [Route("/attribute/{Id}", "GET, PATCH, PUT, DELETE")]

    public partial class Attribute : AttributeBase, IReturn<Attribute>, IDto, ICloneable
    {
        [GeneratedCodeAttribute("T4", "1.0.0.0")]
        public Attribute() => _Constructor();
        [GeneratedCodeAttribute("T4", "1.0.0.0")]
        public Attribute(int? id) : base(DocConvert.ToInt(id)) {}
        [GeneratedCodeAttribute("T4", "1.0.0.0")]
        public Attribute(int id) : base(id) {}
        [GeneratedCodeAttribute("T4", "1.0.0.0")]
        public Attribute(int? pId, Reference pAttributeName, int? pAttributeNameId, Reference pAttributeType, int? pAttributeTypeId, AttributeInterval pInterval, int? pIntervalId, bool pIsCharacteristic, bool pIsOutcome, bool? pIsPositive, string pUniqueKey) :
            base(pId, pAttributeName, pAttributeNameId, pAttributeType, pAttributeTypeId, pInterval, pIntervalId, pIsCharacteristic, pIsOutcome, pIsPositive, pUniqueKey) { }
        [GeneratedCodeAttribute("T4", "1.0.0.0")]
        public static List<string> Fields => DocTools.Fields<Attribute>();

        private List<string> _Select;
        [ApiMember(Name = nameof(Select), Description = "The list of fields to include in the response", AllowMultiple = true, IsRequired = true)]
        [ApiAllowableValues("Includes", Values = new string[] {nameof(AttributeName),nameof(AttributeNameId),nameof(AttributeType),nameof(AttributeTypeId),nameof(Created),nameof(CreatorId),nameof(Gestalt),nameof(Interval),nameof(IntervalId),nameof(IsCharacteristic),nameof(IsOutcome),nameof(IsPositive),nameof(Locked),nameof(UniqueKey),nameof(Updated),nameof(VersionNo)})]
        [GeneratedCodeAttribute("T4", "1.0.0.0")]
        public override List<string> Select
        {
            get
            {
                if(null == this) return new List<string>();
                if(null == _Select)
                {

                    _Select = DocPermissionFactory.RemoveNonEssentialFields(Fields);

                }
                return _Select;
            }
            set
            {

                _Select = Fields;

            }
        }

        [Obsolete, ApiMember(Name = "VisibleFields", Description = "Deprecated. Use Select instead.", AllowMultiple = true)]
        [GeneratedCodeAttribute("T4", "1.0.0.0")]
        public override List<string> VisibleFields { get => Select; set => Select = value; }



        [GeneratedCodeAttribute("T4", "1.0.0.0")]
        public object Clone() => this.Copy<Attribute>();

    }
    

    [Route("/attribute/{Id}/copy", "POST")]
    public partial class AttributeCopy : Attribute {}

    public partial class AttributeSearchBase : Search<Attribute>
    {
        [GeneratedCodeAttribute("T4", "1.0.0.0")]
        public int? Id { get; set; }
        public Reference AttributeName { get; set; }
        public List<int> AttributeNameIds { get; set; }
        public List<string> AttributeNameNames { get; set; }
        public Reference AttributeType { get; set; }
        public List<int> AttributeTypeIds { get; set; }
        [ApiAllowableValues("Includes", Values = new string[] {@"Change",@"Duration",@"Not In Study",@"% Change",@"Standard",@"Time Since",@"Time To"})]
        public List<string> AttributeTypeNames { get; set; }
        public Reference Interval { get; set; }
        public List<int> IntervalIds { get; set; }
        [ApiAllowableValues("Includes", Values = new string[] {"true", "false"})]
        public List<bool> IsCharacteristic { get; set; }
        [ApiAllowableValues("Includes", Values = new string[] {"true", "false"})]
        public List<bool> IsOutcome { get; set; }
        [ApiAllowableValues("Includes", Values = new string[] {"true", "false", "null"})]
        public List<bool?> IsPositive { get; set; }
        public string UniqueKey { get; set; }
        public List<string> UniqueKeys { get; set; }
    }


    [Route("/attribute", "GET")]
    [Route("/attribute/version", "GET, POST")]
    [Route("/attribute/search", "GET, POST, DELETE")]

    public partial class AttributeSearch : AttributeSearchBase
    {
    }

    public class AttributeFullTextSearch
    {
        [GeneratedCodeAttribute("T4", "1.0.0.0")]
        public AttributeFullTextSearch() {}
        [GeneratedCodeAttribute("T4", "1.0.0.0")]
        private AttributeSearch _request;
        [GeneratedCodeAttribute("T4", "1.0.0.0")]
        public AttributeFullTextSearch(AttributeSearch request) => _request = request;
        [GeneratedCodeAttribute("T4", "1.0.0.0")]
        public string fts { get => _request.FullTextSearch?.TrimAndPruneSpaces(); }
        [GeneratedCodeAttribute("T4", "1.0.0.0")]
        public bool isBool { get => (fts == "1" || fts == "0" || fts.ToLower() == "true" || fts.ToLower() == "false"); }
        [GeneratedCodeAttribute("T4", "1.0.0.0")]
        public bool ftsBool { get => DocConvert.ToBool(fts); }
        [GeneratedCodeAttribute("T4", "1.0.0.0")]
        public DateTime ftsDate { get => DocConvert.ToDateTime(fts); }
        [GeneratedCodeAttribute("T4", "1.0.0.0")]
        public bool isDate { get => ftsDate != DateTime.MinValue; }
        [GeneratedCodeAttribute("T4", "1.0.0.0")]
        public bool doCreated { get => true == _request.Select?.Any(v => DocTools.AreEqual(v, nameof(Attribute.Created))); }
        [GeneratedCodeAttribute("T4", "1.0.0.0")]
        public bool doUpdated { get => true == _request.Select?.Any(v => DocTools.AreEqual(v, nameof(Attribute.Updated))); }

        public bool doAttributeName { get => true == _request.Select?.Any(v => DocTools.AreEqual(v, nameof(Attribute.AttributeName))); }
        public bool doAttributeType { get => true == _request.Select?.Any(v => DocTools.AreEqual(v, nameof(Attribute.AttributeType))); }
        public bool doInterval { get => true == _request.Select?.Any(v => DocTools.AreEqual(v, nameof(Attribute.Interval))); }
        public bool doIsCharacteristic { get => true == _request.Select?.Any(v => DocTools.AreEqual(v, nameof(Attribute.IsCharacteristic))); }
        public bool doIsOutcome { get => true == _request.Select?.Any(v => DocTools.AreEqual(v, nameof(Attribute.IsOutcome))); }
        public bool doIsPositive { get => true == _request.Select?.Any(v => DocTools.AreEqual(v, nameof(Attribute.IsPositive))); }
        public bool doUniqueKey { get => true == _request.Select?.Any(v => DocTools.AreEqual(v, nameof(Attribute.UniqueKey))); }
        public bool doValueType { get => true == _request.Select?.Any(v => DocTools.AreEqual(v, nameof(Attribute.ValueType))); }
    }


    [Route("/attribute/batch", "DELETE, PATCH, POST, PUT")]

    public partial class AttributeBatch : List<Attribute> { }


}
